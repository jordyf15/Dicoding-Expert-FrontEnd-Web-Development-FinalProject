(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{0:function(t,e,n){"use strict";e.a={BASE_URL:"https://restaurant-api.dicoding.dev",CACHE_NAME:"Restopedia-v1",DATABASE_NAME:"restopedia-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"restaurants"}},1:function(t,e,n){"use strict";var r=n(15),o=n(0);function c(t,e,n,r,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function u(a){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=a.apply(t,i);function o(t){c(r,e,n,o,u,"next",t)}function u(t){c(r,e,n,o,u,"throw",t)}o(void 0)})}}var i=o.a.DATABASE_NAME,n=o.a.DATABASE_VERSION,a=o.a.OBJECT_STORE_NAME,s=Object(r.a)(i,n,{upgrade:function(t){t.createObjectStore(a,{keyPath:"id"})}});e.a={getRestaurant:function(e){return u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s;case 4:return t.abrupt("return",t.sent.get(a,e));case 5:case"end":return t.stop()}},t)}))()},getAllRestaurants:function(){return u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s;case 2:return t.abrupt("return",t.sent.getAll(a));case 3:case"end":return t.stop()}},t)}))()},putRestaurant:function(e){return u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s;case 4:return t.abrupt("return",t.sent.put(a,e));case 5:case"end":return t.stop()}},t)}))()},deleteRestaurant:function(e){return u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s;case 2:return t.abrupt("return",t.sent.delete(a,e));case 3:case"end":return t.stop()}},t)}))()}}},10:function(t,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(n){var r=c();return function(){var t,e=f(n);return t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function a(t){var n="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return r(t,arguments,f(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s(e,t)})(t)}function r(t,e,n){return(r=c()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);r=new(Function.bind.apply(t,r));return n&&s(r,n.prototype),r}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,a(HTMLElement));var t,e,n,r=i(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(e=[{key:"render",value:function(){this.innerHTML='\n      <div id="loader-container">\n        <div id="loader"></div>\n        <p>Fetching data, please wait...</p>\n      </div>\n    '}}])&&u(t.prototype,e),n&&u(t,n),o}();customElements.define("loader-element",n)},2:function(t,e,n){"use strict";e.a={parseActiveUrlWithCombiner:function(){var t=window.location.hash.slice(1).toLowerCase(),t=this._urlSplitter(t);return this._urlCombiner(t)},parseActiveUrlWIthoutCombiner:function(){var t=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(t)},_urlSplitter:function(t){t=t.split("/");return{resource:t[1]||null,id:t[2]||null,verb:t[3]||null}},_urlCombiner:function(t){return(t.resource?"/".concat(t.resource):"/")+(t.id?"/:id":"")+(t.verb?"/".concat(t.verb):"")}}},27:function(t,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(n){var r=c();return function(){var t,e=f(n);return t=r?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==o(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function a(t){var n="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return r(t,arguments,f(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s(e,t)})(t)}function r(t,e,n){return(r=c()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);r=new(Function.bind.apply(t,r));return n&&s(r,n.prototype),r}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,a(HTMLElement));var t,e,n,r=i(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(e=[{key:"alert",set:function(t){var e=t.message,t=t.error;this._message=e,this._error=t,this.render()}},{key:"render",value:function(){this.innerHTML='\n      <div id="alert-container">\n        <div id="alert-container-cover"></div>\n        <div id="alert">\n          <p>Send review <span id="'.concat(this._error?"fail":"success",'">').concat(this._message,'<span></p>\n          <button id="alert-remove-button">Ok</button>\n        </div>\n      </div>\n    ')}},{key:"setButton",value:function(){var t=document.querySelector("main");this.lastElementChild.lastElementChild.addEventListener("click",function(){t.removeChild(t.lastChild)})}}])&&u(t.prototype,e),n&&u(t,n),o}();customElements.define("resto-alert",n)},29:function(t,e,n){"use strict";n.r(e);n(16),n(17),n(19),n(5);var u={init:function(t){var e=this,n=t.button,r=t.drawer,t=t.content;n.addEventListener("click",function(t){e._toggleDrawer(t,r)}),t.addEventListener("click",function(t){e._closeDrawer(t,r)})},_toggleDrawer:function(t,e){t.stopPropagation(),e.classList.toggle("open")},_closeDrawer:function(t,e){t.stopPropagation(),e.classList.remove("open")}},i=n(2),r=n(11),o=n(12),e=n(13),c={"/":r.a,"/favorite":o.a,"/detail/:id":e.a};function s(t,e,n,r,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function r(t){var e=t.button,n=t.drawer,t=t.content;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._button=e,this._drawer=n,this._content=t,this._initialAppShell()}var t,e,n,a,o;return t=r,(e=[{key:"_initialAppShell",value:function(){u.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(a=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.a.parseActiveUrlWithCombiner(),e=c[e],t.next=4,e.render();case 4:return this._content.innerHTML=t.sent,t.next=7,e.afterRender();case 7:case"end":return t.stop()}},t,this)}),o=function(){var t=this,i=arguments;return new Promise(function(e,n){var r=a.apply(t,i);function o(t){s(r,e,n,o,u,"next",t)}function u(t){s(r,e,n,o,u,"throw",t)}o(void 0)})},function(){return o.apply(this,arguments)})}])&&f(t.prototype,e),n&&f(t,n),r}(),e=n(14),l=n.n(e);function p(t,e,n,r,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}var a=function(){var a,t=(a=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("serviceWorker"in navigator)return t.next=3,l.a.register();t.next=4;break;case 3:return t.abrupt("return");case 4:console.log("Service worker not supported in this browser");case 5:case"end":return t.stop()}},t)}),function(){var t=this,i=arguments;return new Promise(function(e,n){var r=a.apply(t,i);function o(t){p(r,e,n,o,u,"next",t)}function u(t){p(r,e,n,o,u,"throw",t)}o(void 0)})});return function(){return t.apply(this,arguments)}}(),v=new o({button:document.querySelector("#hamburger"),drawer:document.querySelector("#drawer"),content:document.querySelector("main")});window.addEventListener("hashchange",function(){v.renderPage()}),window.addEventListener("load",function(){v.renderPage(),a()})},3:function(t,e,n){"use strict";var r=n(0),i={LIST:"".concat(r.a.BASE_URL,"/list"),DETAIL:function(t){return"".concat(r.a.BASE_URL,"/detail/").concat(t)}};function c(t,e,n,r,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function a(a){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=a.apply(t,i);function o(t){c(r,e,n,o,u,"next",t)}function u(t){c(r,e,n,o,u,"throw",t)}o(void 0)})}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,u;return e=t,n=null,r=[{key:"listRestaurants",value:(u=a(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i.LIST);case 2:return e=t.sent,t.next=5,e.json();case 5:return e=t.sent,t.abrupt("return",e.restaurants);case 7:case"end":return t.stop()}},t)})),function(){return u.apply(this,arguments)})},{key:"detailRestaurant",value:(o=a(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i.DETAIL(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return n=t.sent,t.abrupt("return",n.restaurant);case 7:case"end":return t.stop()}},t)})),function(t){return o.apply(this,arguments)})}],n&&s(e.prototype,n),r&&s(e,r),t}(),e.a=n}}]);